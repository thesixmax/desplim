[{"path":"https://thesixmax.github.io/desplim/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 desplim authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://thesixmax.github.io/desplim/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sixten Maximillian Thestrup. Author, maintainer.","code":""},{"path":"https://thesixmax.github.io/desplim/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Thestrup S (2025). desplim: DESPLIM algorithm R. R package version 1.0.0.0000, https://thesixmax.github.io/desplim/.","code":"@Manual{,   title = {desplim: DESPLIM algorithm in R},   author = {Sixten Maximillian Thestrup},   year = {2025},   note = {R package version 1.0.0.0000},   url = {https://thesixmax.github.io/desplim/}, }"},{"path":"https://thesixmax.github.io/desplim/index.html","id":"desplim-implementation-of-the-desplim-algorithm-in-r","dir":"","previous_headings":"","what":"DESPLIM algorithm in R","title":"DESPLIM algorithm in R","text":"package implementation DESPLIM (deterministic split-merge) algorithm geospatial districting R. associated paper forthcoming. Aside main algorithm, package contains several helper functions, can utilised working sf LINESTRING POLYGON data.","code":""},{"path":"https://thesixmax.github.io/desplim/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"DESPLIM algorithm in R","text":"package depends spatial package sf. recommended install package first. Execute following install latest version desplim:","code":"library(devtools) install_github(\"thesixmax/desplim\")"},{"path":"https://thesixmax.github.io/desplim/index.html","id":"list-of-functions","dir":"","previous_headings":"","what":"List of functions","title":"DESPLIM algorithm in R","text":"following date list functions available package. Please refer individual man pages vignettes information. Extended documentation, including examples, work progress.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"Function computing nodes sf MULTILINESTRING LINESTRING object.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"","code":"desplim_all_nodes(input_lines, cast_substring = FALSE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"input_lines object class sf type LINESTRING MULTILINESTRING. cast_substring logical; input linestrings cast substring? Default FALSE.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"sf object type POINT containing nodes input_lines.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"Function compute nodes sf LINESTRING object, optionally casting input_lines substrings. input_lines contains geometries type MULTILINESTRING, cast LINESTRING computing.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_all_nodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute all nodes of an sf LINESTRING object — desplim_all_nodes","text":"","code":"# Generate lines line1 <- sf::st_linestring(rbind(c(0, 0), c(1, 1))) line2 <- sf::st_linestring(rbind(c(1, 1), c(2, 0))) combined_sf <- sf::st_as_sf(sf::st_sfc(line1, line2, crs = 4326))  # Compute all nodes all_nodes <- desplim_all_nodes(combined_sf) print(all_nodes) #> Simple feature collection with 3 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 0 ymin: 0 xmax: 2 ymax: 1 #> Geodetic CRS:  WGS 84 #>      geometry #> 1 POINT (0 0) #> 2 POINT (1 1) #> 3 POINT (2 0)  # Visualise plot(sf::st_geometry(combined_sf), col = \"slateblue3\", lwd = 2) plot(sf::st_geometry(all_nodes), col = \"tomato3\", pch = 16, cex = 2, add = TRUE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"Function calculating minimum maximum angles two intersecting sf MULTILINESTRING LINESTRING objects.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"","code":"desplim_angles(input_lines, reference_lines, cast_substring = TRUE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"input_lines object class sf type LINESTRING MULTILINESTRING. reference_lines object class sf type LINESTRING MULTILINESTRING. cast_substring logical; input linestrings cast substring? Default TRUE.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"sf object geometries input_lines added columns containing values minimum maximum angle.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"input reference lines already cast substring, function can sped , notably setting cast_substring FALSE larger geometries.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_angles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the minimum and maximum angles between two sf LINESTRING objects — desplim_angles","text":"","code":"# Create input and reference lines input_line <- sf::st_linestring(matrix(   c(-1, 0, 0, 0, 1, 0),   ncol = 2,   byrow = TRUE )) ref_line <- sf::st_linestring(matrix(   c(0, -1, 0, 0, -0.5, 1),   ncol = 2,   byrow = TRUE )) input_sf <- sf::st_sf(geom = sf::st_sfc(input_line), crs = 32613) ref_sf <- sf::st_sf(geom = sf::st_sfc(ref_line), crs = 32613)  # Calculate angles angles_sf <- desplim_angles(input_lines = input_sf, reference_lines = ref_sf) print(angles_sf) #> Simple feature collection with 2 features and 2 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: -1 ymin: 0 xmax: 1 ymax: 0 #> Projected CRS: WGS 84 / UTM zone 13N #>                 geometry min_angle max_angle #> 1 LINESTRING (-1 0, 0 0)  63.43495   90.0000 #> 2  LINESTRING (0 0, 1 0)  90.00000  116.5651  # Plot plot(sf::st_geometry(input_sf), col = \"tomato3\", lwd = 2) plot(sf::st_geometry(ref_sf), add = TRUE, col = \"slateblue3\", lwd = 2) text(-0.1, 0.1, paste0(round(angles_sf$min_angle[[1]], 1), \"°\"), pos = 2) text(-0.1, -0.1, paste0(round(angles_sf$max_angle[[1]], 1), \"°\"), pos = 2) text(0.1, 0.1, paste0(round(angles_sf$max_angle[[2]], 1), \"°\"), pos = 4) text(0.1, -0.1, paste0(round(angles_sf$min_angle[[2]], 1), \"°\"), pos = 4)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":null,"dir":"Reference","previous_headings":"","what":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"Function computing substrings sf MULTILINESTRING LINESTRING object.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"","code":"desplim_cast_substring(input_lines)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"input_lines object class sf geometry type MULTILINESTRING LINESTRING.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"sf object type LINESTRING containing substrings input_lines.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"avoid issues connecting points spatially separate linestrings, function converts MULTILINESTRING LINESTRING. output always LINESTRING class matching input_lines. Inputs type sfc supported.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_cast_substring.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cast an sf LINESTRING or MULTILINESTRING object to substrings — desplim_cast_substring","text":"","code":"# Create input line input_line <- sf::st_linestring(matrix(   c(-1, 0, 0, 0, 1, 0, 2, 0),   ncol = 2,   byrow = TRUE )) input_sf <- sf::st_sf(geom = sf::st_sfc(input_line), crs = 32613) print(input_sf) #> Simple feature collection with 1 feature and 0 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: -1 ymin: 0 xmax: 2 ymax: 0 #> Projected CRS: WGS 84 / UTM zone 13N #>                             geom #> 1 LINESTRING (-1 0, 0 0, 1 0,... # Cast to substring substring_sf <- desplim_cast_substring(input_sf) print(substring_sf) #> Simple feature collection with 3 features and 0 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: -1 ymin: 0 xmax: 2 ymax: 0 #> Projected CRS: WGS 84 / UTM zone 13N #>                 geometry #> 1 LINESTRING (-1 0, 0 0) #> 2  LINESTRING (0 0, 1 0) #> 3  LINESTRING (1 0, 2 0)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"Based approach described Kaufmann et al. (2018), function computes compactness sf POLYGON object.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"","code":"desplim_compactness(input, keep_metrics = FALSE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"input object class sf type POLYGON MULTIPOLYGON. keep_metrics logical; compactness metrics kept? Default FALSE.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"sf object type POLYGON matching input, compactness metric(s) added.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"Please see dedicated vignette information compactness metric. input contains geometries type MULTIPOLYGON, cast POLYGON computing.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_compactness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the 'desplim' compactness of an sf POLYGON object — desplim_compactness","text":"","code":"# Create simple plygon polygon_coords <- list(matrix(  c(0, 0, 0, 1, 1, 3, -1, 2, -3, 1, -2, 0, 0, 0),  ncol = 2,  byrow = TRUE )) simple_polygon <- sf::st_sfc(sf::st_polygon(polygon_coords), crs = 4326) input_sf <- sf::st_sf(geometry = simple_polygon) # Calculate compactness compactness_result <- desplim_compactness(input_sf, keep_metrics = TRUE) plot(input_sf)  print(sf::st_drop_geometry(compactness_result)) #>       boyce box_reock      hull   len_wid    polsby     reock  schwartz #> 1 0.8264538 0.5499207 0.9165904 0.7503429 0.5586596 0.3524037 0.7474354 #>        skew     sym_x     sym_y compactness #> 1 0.4282874 0.6491615 0.6362868   0.8179947"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"Compute optimal connections nodes sf LINESTRING object border nodes sf POLYGON object based user input.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"","code":"desplim_connect_border(   input_linestring,   input_polygon,   input_buildings = NULL,   distance_intersect = 500,   distance_nodes = 250,   minimum_angle = 30,   num_candidates = 3 )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"input_linestring object class sf type LINESTRING MULTILINESTRING. input_polygon object class sf type POLYGON. input_buildings object class sf type POLYGON MULTIPOLYGON. Contains elements overlap output border connetions. Default NULL. distance_intersect numerical; minimum distance exsting intersections input_linestring border input_polygon border node input_polygon considered new connection. Default 500 units. distance_nodes numerical; maximum distance border nodes input_polygon node input_linestring considered new connection. Default 250 units. minimum_angle numerical; minimum angle new connection border input_polygon required new connection c onsidered. Default 30 degrees. num_candidates numerical; number connections attempt border node. Default 3.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"sf object type LINESTRING connecting nodes input_linestring border nodes input_polygon.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"candidate border node, num_candidates candidate connections generated. candidate connections meet requirements minimum_angle, fully covered input polygon cross existing linestrings selected. border node closest existing intersection considered first. one valid connection border node found, shortest connection selected set candidate border nodes updated exclude within distance_intersect new connection. valid connection border node exist, border node removed set candidate border nodes.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_connect_border.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Connect a sf LINESTRING object to border nodes of an sf POLYGON object — desplim_connect_border","text":"","code":"# Create input polygon poly_coords <- list(matrix(   c(0, 0, 10, 0, 16, 3, 10, 10, 0, 10, -4, 5, 0, 0),   ncol = 2,   byrow = TRUE )) input_poly <- sf::st_sf(   geometry = sf::st_sfc(sf::st_polygon(poly_coords), crs = 32612) )  # Create input linestring line_coords <- matrix(   c(-4, 5, -2, 5, 7, 8, 9, 6, 9, 1),   ncol = 2,   byrow = TRUE ) input_line <- sf::st_sf(   geometry = sf::st_sfc(sf::st_linestring(line_coords), crs = 32612) )  # Create input building(s) building_coords <- list(matrix(   c(3, 9, 9, 9, 9, 8.5, 3, 8.5, 3, 9),   ncol = 2,   byrow = TRUE )) input_build <- sf::st_sf(   geometry = sf::st_sfc(sf::st_polygon(building_coords), crs = 32612) )  # Function call border_connections <- desplim_connect_border(   input_linestring = input_line,   input_polygon = input_poly,   input_buildings = input_build,   distance_intersect = 3, # Small for example   distance_nodes = 5, # Small for example   minimum_angle = 30,   num_candidates = 3 )  # Visualisation plot(sf::st_geometry(input_poly), border = 'black', lwd = 2) plot(sf::st_geometry(input_build), col = 'tomato3', add = TRUE) plot(sf::st_geometry(input_line), col = 'olivedrab', lwd = 4, add = TRUE) plot(   sf::st_geometry(border_connections),   col = 'slateblue3',   lwd = 3,   lty = 2,   add = TRUE )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"Function computing leaf nodes sf MULTILINESTRING LINESTRING object.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"","code":"desplim_leaf_nodes(input_lines)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"input_lines object class sf type LINESTRING MULTILINESTRING.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"sf object type POINT containing leaf nodes input_lines.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"Function compute leaf nodes, .e. nodes intersect one linestring sf LINESTRING object. input_lines contains geometries type MULTILINESTRING, cast LINESTRING computing.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_leaf_nodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify leaf nodes of an sf LINESTRING object — desplim_leaf_nodes","text":"","code":"# Generate lines line1 <- sf::st_linestring(rbind(c(0, 0), c(1, 1))) line2 <- sf::st_linestring(rbind(c(1, 1), c(2, 2))) line3 <- sf::st_linestring(rbind(c(1, 1), c(1, 0))) combined_sf <- sf::st_as_sf(sf::st_sfc(line1, line2, line3, crs = 4326))  # Compute leaf nodes leaf_nodes <- desplim_leaf_nodes(combined_sf) print(leaf_nodes) #> Simple feature collection with 3 features and 0 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 0 ymin: 0 xmax: 2 ymax: 2 #> Geodetic CRS:  WGS 84 #>      geometry #> 1 POINT (0 0) #> 2 POINT (2 2) #> 3 POINT (1 0)  # Visualise plot(sf::st_geometry(combined_sf), col = \"slateblue3\", lwd = 2) plot(sf::st_geometry(leaf_nodes), col = \"tomato3\", pch = 16, cex = 2, add = TRUE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"Calculate minimum distance linestring connection sf POINT object nodes sf LINESTRING object","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"","code":"desplim_line_nearest_node(   input_nodes,   input_lines,   input_buildings = NULL,   cast_substring = TRUE,   combine_nodes = TRUE,   ignore_equal = TRUE )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"input_nodes object class sf geometry type POINT MULTIPOINT. input_lines object class sf geometry type LINESTRING MULTILINESTRING. input_buildings optional object class sf geometry type POLYGON MULTIPOLYGON crossed. cast_substring logical; input linestring cast substring? Default TRUE. combine_nodes logical; input nodes nodes input lines combined? Default TRUE. ignore_equal logical; output linestrings exactly equal one elements input_lines ignored? Default TRUE.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"sf object type LINESTRING containing minimum distance linestrings node input_nodes nodes input_lines combined set input_nodes nodes input_lines.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"input node, function computes minimum distance chosen set nodes outputs minimum distance linestrings. cases minimum distance zero, due overlap input node one nodes input_lines, second minimum distance linestring computed. input_nodes input_lines contain geometries type MULTIPOINT MULTILINESTRING, converted POINT LINESTRING respectively computing.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_line_nearest_node.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the minimum distance linestring from an sf POINT object to nodes of a sf LINESTRING object — desplim_line_nearest_node","text":"","code":"# Create nodes, lines and a building crs <- 32632 line1 <- sf::st_linestring(rbind(c(0, 10), c(10, 10))) line2 <- sf::st_linestring(rbind(c(10, 10), c(10, 0))) lines_sf <- sf::st_as_sf(sf::st_sfc(line1, line2, crs = crs))  node1 <- sf::st_point(c(3, 6)) node2 <- sf::st_point(c(8, 4)) points_sf <- sf::st_as_sf(sf::st_sfc(node1, node2, crs = crs))  building_poly <- sf::st_polygon(list(rbind(   c(1, 7),   c(1, 9),   c(4, 9),   c(4, 7),   c(1, 7) ))) building_sf <- sf::st_as_sf(sf::st_sfc(building_poly, crs = crs))  # Compute connections with no building connections_no_building <- desplim_line_nearest_node(points_sf, lines_sf) print(connections_no_building) #> Simple feature collection with 2 features and 0 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: 0 ymin: 0 xmax: 10 ymax: 10 #> Projected CRS: WGS 84 / UTM zone 32N #>                 geometry #> 1 LINESTRING (3 6, 0 10) #> 2 LINESTRING (8 4, 10 0)  # Visualise plot(sf::st_geometry(lines_sf), col = \"black\", lwd = 2) plot(sf::st_geometry(points_sf), col = \"slateblue3\", pch = 16, cex = 2, add = TRUE) plot(sf::st_geometry(connections_no_building), col = \"olivedrab\", lwd = 2, add = TRUE)   # Compute connections with building connections_with_building <- desplim_line_nearest_node(   input_nodes = points_sf,   input_lines = lines_sf,   input_buildings = building_sf ) print(connections_with_building) #> Simple feature collection with 1 feature and 0 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: 8 ymin: 0 xmax: 10 ymax: 4 #> Projected CRS: WGS 84 / UTM zone 32N #>                 geometry #> 1 LINESTRING (8 4, 10 0)  # Visualise plot(sf::st_geometry(lines_sf), col = \"black\", lwd = 2) plot(sf::st_geometry(building_sf), col = \"tomato3\", border = NA, add = TRUE) plot(sf::st_geometry(points_sf), col = \"blue\", pch = 16, cex = 2, add = TRUE) plot(sf::st_geometry(connections_with_building), col = \"green\", lwd = 2, add = TRUE)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_merge.html","id":null,"dir":"Reference","previous_headings":"","what":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","title":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","text":"Function merging set polygons, optinal rules defined user. merging process deterministic, leading reproducible results subsequent runs input data rules.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_merge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","text":"","code":"desplim_merge(   input_polygons,   input_buildings = NULL,   compact_method = \"desplim\",   compact_threshold = 0.7,   compact_allow = 0.2,   area_threshold = 10000,   enclosed_threshold = 0.8,   building_threshold = 5 )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_merge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","text":"input_polygons object class sf type POLYGON merged. input_buildings object class sf type POLYGON MULTIPOLYGON. optional sf object representing buildings considered merging. Default NULL. compact_method string; chosen method calculating compactness polygons. Default \"desplim\", using internal desplim_compactness function. options include \"polsby\", \"schwartz\" \"convex_hull\" redistmetrics package. compact_threshold numerical; baseline expected compactness output polygons. Default 0.7. compact_allow numerical; fraction polygons allowed fall compact_tolerance. Default 0.2. area_threshold numerical; minimum required area merged polygons. Default 10000 units. enclosed_threshold numerical; fraction polygon border shared single neighbour considered enclosed (flagged merging). Default 0.8. building_threshold integer; minimum number required buildings within merged polygons input_buildings provided. Default 5, sis set 0 input_buildings provided.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_merge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","text":"sf object POLYGONs resulting deterministic merge.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_merge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Deterministically merge a set of polygons with possible parameters defined by the user. — desplim_merge","text":"requirements polygons adjacent . Although named input_buildings, sf object type POLYGON MULTIPOLYGON can provided argument. details compactness metric, please see dedicated vignette. recommended set compact_allow close 1 compact_tolerance low. especially true compact_method set \"polsby\".","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"Split polygon based sf LINESTRING object optional border connections.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"","code":"desplim_split(   input_polygon,   input_lines,   input_buildings = NULL,   enable_line_nearest_node = TRUE,   enable_border_connect = FALSE,   ... )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"input_polygon object class sf type POLYGON split. input_lines object class sf type LINESTRING MULTILINESTRING used splitting. input_buildings object class sf type POLYGON MULTIPOLYGON. optional sf object representing buildings intersected splitting procedure. Default NULL. enable_line_nearest_node logical; whether connect leaf nodes input_lines nearest node using desplim_line_nearest_node. Default TRUE. enable_border_connect logical; whether connect input_lines border input_polygon using desplim_connect_border. Default FALSE. ... additional arguments passed desplim_connect_border set TRUE.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"sf object POLYGONs resulting split.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"function splits input polygon based initial set linestrings. enable_line_nearest_node TRUE, leaf nodes input linestrings connected nearest node laid desplim_line_nearest_node. enable_border_connect TRUE, input linestrings connected border input polygon using desplim_connect_border.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split a polygon based on a sf LINESTRING object and optional border connections. — desplim_split","text":"","code":"# Create polygon crs <- 32632 district_poly <- sf::st_polygon(list(rbind(   c(0, 0),   c(100, 0),   c(100, 80),   c(90, 90),   c(0, 80),   c(0, 0) ))) district_sf <- sf::st_as_sf(sf::st_sfc(district_poly, crs = crs)) plot(district_sf, border = \"black\", lwd = 2, reset = FALSE)  # Create roads road1 <- sf::st_linestring(rbind(c(5, 5), c(50, 60), c(110, 50))) road2 <- sf::st_linestring(rbind(c(-10, 60), c(20, 40), c(80, 10))) road3 <- sf::st_linestring(rbind(c(-5, 70), c(90, 70), c(90, 20), c(110, 20))) roads_sf <- sf::st_as_sf(sf::st_sfc(road1, road2, road3, crs = crs)) plot(roads_sf, col = \"tomato3\", lwd = 2, add = TRUE)   # Split with no connection split_no_connect <- desplim_split(   district_sf,   roads_sf,   enable_line_nearest_node = FALSE ) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE plot(split_no_connect, border = \"black\", lwd = 2)   # Split with default settings split_nearest_node <- desplim_split(   district_sf,   roads_sf ) plot(split_nearest_node, border = \"slateblue3\", lwd = 2)   # Split with border connection split_polygons_border <- desplim_split(   district_sf,   roads_sf,   enable_border_connect = TRUE,   distance_nodes = 50,   distance_intersect = 5 ) plot(split_polygons_border, border = \"olivedrab\", lwd = 2)"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split_merge.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","title":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","text":"Apply DESPLIM algorithm set input polygons lines.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split_merge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","text":"","code":"desplim_split_merge(   input_polygon,   input_lines,   input_buildings = NULL,   line_type_identifier = NULL,   line_type_hierarchy = NULL,   parallel = FALSE,   ... )"},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split_merge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","text":"input_polygon object class sf type POLYGON merged. input_lines object class sf type LINESTRING MULTILINESTRING used splitting. input_buildings object class sf type POLYGON MULTIPOLYGON. optional sf object representing buildings considered splitting merging. Default NULL. line_type_identifier string; name column input_lines contains line type. Default NULL. line_type_hierarchy list; hierarchical structure line types used splitting. Default NULL. types can accessed \"\". parallel logical; whether run split merging steps parallel. TRUE, uses future package, number workers set using plan argument. Default FALSE. ... additional arguments passed desplim_split, desplim_merge desplim_connect_border.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split_merge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","text":"sf object POLYGONs resulting merge.","code":""},{"path":"https://thesixmax.github.io/desplim/reference/desplim_split_merge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply the DESPLIM algorithm to a set of input polygons and lines. — desplim_split_merge","text":"function applies DESPLIM algorithm set input polygons lines. splitting merging steps performed line desplim_split desplim_merge functions iteration defined line_type_hierarchy.","code":""}]
